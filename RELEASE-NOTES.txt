= SWMTBot release notes =


== SWMTBot 1.20.0 ==

THIS IS NOT A RELEASE YET

Those wishing to use the trunk code instead of a stable release can obtain
it from source control: https://svn.toolserver.org/svnroot/p_swmtbot

=== Changes in 1.20.0 ===

* "the end of time" is now controlled by Console.msgs to allow translation
* newuser/newuser2 event gets a talkurl attribute
* delete event gets a url attribute
* actions now have a clean-attribute (cname) besides the regular one. For
  more flexibility in the layout of the messages. Enabling [[]] (renders
  "[[xx:User:Foo]]") and  (renders "Foo")
* (bug 15) Add {talkurl} attribute for block and unblock event
* (bug 31) Finish protect and unprotect log type and also add modifyprotect
* Added SWMTBot.exe.config to the SVN. For some reason it was on the botserver
  but never made it here (this file creates the run.log-output of log4net)

=== New features in 1.20.0 ===

* (bug 12) Trim whitespace when dealing with list manager
* (bug 29) A few of the requested feed filters added: feedFilterUsersAnon,
  feedFilterUsersReg, feedFilterEventUpload
* (bug 30) Setting to avoid database connection ListManager.ClassifyEditor.
  Can now be done with setting disableClassifyEditor in SWMTBot.ini
* (bug 27) New command "config" for returning customizable .ini settings
  optional parameter 'all' to distribute it to other bots and bots in the
  same channel will also show their configs (like "count" does by default)

=== Bug fixes in 1.20.0 ===

* SWMTUtils.wikiEncode() now encodes exclamation mark aswell (some IRC
  clients cut off link of pagetitle contained it)
* (bug 11) added clean-attributes missing for edit/newpage
* (bug 16) Remove deprecated {ipcat}
* added "patrol" (mark as patrolled) and "review" (FlaggedRevs / PendingChanges)
  as an empty switchcase in RCReader->rcirc_OnChannelMessage to clear out some
  WARNs about unhandled log types
* (bug 6) Pagetitles containing a slash are not reported and cause WARN in log
* nsEnglish[4] and nsEnglish[5] have been changed from "Wikipedia" to "Project"
  to fix the bug where one could watch a non-Wikipedia project page, but when
  an edit occurs, the generated pagetitle (and url) has the wrong namespace and 
  thus broke the link

== Compatibility & Upgrading ==

The old deprecated {ipcat} attribute (which previously was manually set to an
empty string) has been removed from the Program and Console.msgs.
Also message 05902 is added for modifyprotect log type.
Make sure you view the difference between this release's Console.msgs your
release and either replace or update yours the same way (view diff in Fisheye)

Lists.sqlite and SWMTBot.ini remain unchanged and are totally compatible.
They don't need upgrading.

Because bug 6 has been fixed Projects.xml needs to be rebuild in order to
actually see it fixed. It's not a requirement (it will work without
rebuilding). You can do so by doing the "batchreload" command.
Keep in mind that reload will take up to 1 second per loaded wiki.

All other files can simply be replaced, and restart the bot.

So summarized:
* Quit the bot
* Replace all files except for Projects.xml and SWMTBot.ini
* If you have a custom Console.msgs get diff in FishEye and do the same,
  otherwise just replace the entire file with the new version
* After restarting run batchreload to update Projects.xml
* Enjoy!


For notes on 1.19.0 and older releases, see HISTORY


=== Online documentation ===

Documentation for both users and channel operators is currently available
on Meta :

  http://meta.wikimedia.org/wiki/SWMTBot


=== IRC help ===

There's usually someone online in #countervandalism on irc.freenode.net